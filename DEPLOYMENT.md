# é¡¹ç›®ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ - éƒ¨ç½²æŒ‡å—

## ğŸš€ Netlify éƒ¨ç½²æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šGitHub è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **å‡†å¤‡ä»£ç ä»“åº“**
   ```bash
   # åˆå§‹åŒ–Gitä»“åº“
   git init
   git add .
   git commit -m "Initial commit: é¡¹ç›®ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ"
   
   # æ¨é€åˆ°GitHub
   git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/todolist.git
   git branch -M main
   git push -u origin main
   ```

2. **è¿æ¥Netlify**
   - è®¿é—® [Netlify](https://netlify.com)
   - ç‚¹å‡» "New site from Git"
   - é€‰æ‹© GitHub å¹¶æˆæƒ
   - é€‰æ‹©ä½ çš„ä»“åº“
   - æ„å»ºè®¾ç½®ï¼š
     - Build command: `echo 'Static site, no build needed'`
     - Publish directory: `.`
     - Functions directory: `netlify/functions`

3. **éƒ¨ç½²å®Œæˆ**
   - Netlifyä¼šè‡ªåŠ¨éƒ¨ç½²
   - è·å¾—ç±»ä¼¼ `https://your-site-name.netlify.app` çš„URL

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

1. **æ‰“åŒ…é¡¹ç›®æ–‡ä»¶**
   ```bash
   # åˆ›å»ºéƒ¨ç½²åŒ…ï¼ˆæ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶ï¼‰
   zip -r todolist-deploy.zip . -x "*.git*" "*.DS_Store*" "node_modules/*"
   ```

2. **æ‰‹åŠ¨ä¸Šä¼ **
   - è®¿é—® [Netlify](https://netlify.com)
   - ç‚¹å‡» "Deploy manually"
   - æ‹–æ‹½ZIPæ–‡ä»¶åˆ°éƒ¨ç½²åŒºåŸŸ
   - ç­‰å¾…éƒ¨ç½²å®Œæˆ

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
ç³»ç»Ÿä½¿ç”¨çš„é…ç½®éƒ½å·²ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼Œæ— éœ€é¢å¤–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

- **é£ä¹¦é…ç½®**ï¼š
  - APP_ID: `cli_a8d4bd05dbf8100b`
  - APP_SECRET: `IRUdgTp1k825LXp1kz2W4gxcvaRAqtcv`
  - è¡¨æ ¼URL: `https://wcn0pu8598xr.feishu.cn/base/DPIqbB7OWa05ZZsiQi8cP1jnnBb`

- **è±†åŒ…API**ï¼š
  - API_KEY: `e90111f2-f6a4-40c3-a657-b8383007666f`
  - MODEL: `doubao-seed-1-6-thinking-250615`

### æ–‡ä»¶ç»“æ„
```
todolist/
â”œâ”€â”€ index.html              # ä¸»é¡µé¢
â”œâ”€â”€ styles.css              # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ app.js                  # ä¸»åº”ç”¨é€»è¾‘
â”œâ”€â”€ feishu-api.js          # é£ä¹¦APIé›†æˆ
â”œâ”€â”€ doubao-api.js          # è±†åŒ…APIé›†æˆ
â”œâ”€â”€ netlify.toml           # Netlifyé…ç½®
â”œâ”€â”€ netlify/
â”‚   â””â”€â”€ functions/         # Netlify Functions
â”‚       â”œâ”€â”€ tasks.js       # è·å–ä»»åŠ¡åˆ—è¡¨
â”‚       â”œâ”€â”€ create-task.js # åˆ›å»ºä»»åŠ¡
â”‚       â”œâ”€â”€ update-task.js # æ›´æ–°ä»»åŠ¡
â”‚       â””â”€â”€ health.js      # å¥åº·æ£€æŸ¥
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## ğŸŒ API ç«¯ç‚¹

éƒ¨ç½²åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æä¾›ä»¥ä¸‹APIç«¯ç‚¹ï¼š

- `GET /.netlify/functions/tasks` - è·å–ä»»åŠ¡åˆ—è¡¨
- `POST /.netlify/functions/create-task` - åˆ›å»ºæ–°ä»»åŠ¡
- `PUT /.netlify/functions/update-task` - æ›´æ–°ä»»åŠ¡
- `GET /.netlify/functions/health` - å¥åº·æ£€æŸ¥

## ğŸ§ª æµ‹è¯•éƒ¨ç½²

### 1. å¥åº·æ£€æŸ¥
```bash
curl https://your-site-name.netlify.app/.netlify/functions/health
```

### 2. è·å–ä»»åŠ¡åˆ—è¡¨
```bash
curl https://your-site-name.netlify.app/.netlify/functions/tasks
```

### 3. åˆ›å»ºä»»åŠ¡
```bash
curl -X POST https://your-site-name.netlify.app/.netlify/functions/create-task \
  -H "Content-Type: application/json" \
  -d '{
    "title": "æµ‹è¯•ä»»åŠ¡",
    "project": "æµ‹è¯•é¡¹ç›®",
    "assignee": "æµ‹è¯•ç”¨æˆ·",
    "dueDate": "2024-12-10",
    "completed": false
  }'
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Functions æ— æ³•è®¿é—®**
   - æ£€æŸ¥ `netlify.toml` ä¸­çš„ functions ç›®å½•é…ç½®
   - ç¡®ä¿ `netlify/functions/` ç›®å½•å­˜åœ¨ä¸”åŒ…å«JSæ–‡ä»¶

2. **é£ä¹¦APIè°ƒç”¨å¤±è´¥**
   - ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨å¤‡ç”¨æ•°æ®
   - æ£€æŸ¥é£ä¹¦åº”ç”¨é…ç½®æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤è¡¨æ ¼æƒé™è®¾ç½®ä¸º"æ‰€æœ‰äººå¯ç¼–è¾‘"

3. **CORSé”™è¯¯**
   - Netlify Functions å·²é…ç½®CORSå¤´
   - å¦‚æœä»æœ‰é—®é¢˜ï¼Œæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

4. **è±†åŒ…APIè°ƒç”¨å¤±è´¥**
   - æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æœ‰æ•ˆ
   - ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸

### è°ƒè¯•æ–¹æ³•

1. **æŸ¥çœ‹Netlifyæ—¥å¿—**
   - åœ¨Netlifyæ§åˆ¶å°ä¸­æŸ¥çœ‹Functionsæ—¥å¿—
   - æ£€æŸ¥éƒ¨ç½²æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

2. **æœ¬åœ°æµ‹è¯•**
   ```bash
   # å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
   python3 -m http.server 8000
   
   # è®¿é—® http://localhost:8000
   ```

3. **æµè§ˆå™¨è°ƒè¯•**
   - æ‰“å¼€å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹Consoleé¢æ¿çš„é”™è¯¯ä¿¡æ¯
   - æ£€æŸ¥Networké¢æ¿çš„APIè¯·æ±‚çŠ¶æ€

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥
- é™æ€èµ„æºï¼ˆCSS/JSï¼‰ç¼“å­˜1å¹´
- HTMLæ–‡ä»¶ä¸ç¼“å­˜ï¼Œç¡®ä¿æ›´æ–°åŠæ—¶ç”Ÿæ•ˆ

### CDNåŠ é€Ÿ
- Netlifyè‡ªåŠ¨æä¾›å…¨çƒCDNåŠ é€Ÿ
- é™æ€èµ„æºè‡ªåŠ¨å‹ç¼©å’Œä¼˜åŒ–

### å‡½æ•°ä¼˜åŒ–
- Functionsä½¿ç”¨Node.jsåŸç”Ÿæ¨¡å—ï¼Œå¯åŠ¨å¿«é€Ÿ
- å®ç°äº†å¤‡ç”¨æ•°æ®æœºåˆ¶ï¼Œæé«˜å¯ç”¨æ€§

## ğŸ” å®‰å…¨è€ƒè™‘

### APIå¯†é’¥ç®¡ç†
- å½“å‰ç‰ˆæœ¬APIå¯†é’¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
- ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯

### æ•°æ®å®‰å…¨
- æ‰€æœ‰APIè°ƒç”¨éƒ½é€šè¿‡HTTPS
- é£ä¹¦è¡¨æ ¼æƒé™å·²è®¾ç½®ä¸ºå¯ç¼–è¾‘
- å»ºè®®å®šæœŸæ›´æ–°è®¿é—®å‡­è¯

## ğŸ“ˆ ç›‘æ§å’Œç»´æŠ¤

### å¥åº·æ£€æŸ¥
- ä½¿ç”¨ `/.netlify/functions/health` ç«¯ç‚¹ç›‘æ§æœåŠ¡çŠ¶æ€
- å¯ä»¥è®¾ç½®å¤–éƒ¨ç›‘æ§æœåŠ¡å®šæœŸæ£€æŸ¥

### æ—¥å¿—ç›‘æ§
- Netlifyæä¾›è¯¦ç»†çš„Functionsæ‰§è¡Œæ—¥å¿—
- å¯ä»¥é€šè¿‡æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯å’Œæ€§èƒ½ä¿¡æ¯

### æ›´æ–°éƒ¨ç½²
- GitHubè¿æ¥çš„é¡¹ç›®ä¼šè‡ªåŠ¨éƒ¨ç½²
- æ‰‹åŠ¨éƒ¨ç½²éœ€è¦é‡æ–°ä¸Šä¼ æ–‡ä»¶

---

## ğŸ‰ éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] ä»»åŠ¡åˆ—è¡¨å¯ä»¥åŠ è½½ï¼ˆå³ä½¿æ˜¯å¤‡ç”¨æ•°æ®ï¼‰
- [ ] å¯ä»¥åˆ›å»ºæ–°ä»»åŠ¡
- [ ] å¯ä»¥ç¼–è¾‘ç°æœ‰ä»»åŠ¡
- [ ] æŠ¥å‘Šç”ŸæˆåŠŸèƒ½æ­£å¸¸
- [ ] å“åº”å¼è®¾è®¡åœ¨ç§»åŠ¨ç«¯æ­£å¸¸æ˜¾ç¤º
- [ ] æ‰€æœ‰APIç«¯ç‚¹è¿”å›æ­£ç¡®å“åº”

å®Œæˆä»¥ä¸Šæ£€æŸ¥åï¼Œæ‚¨çš„é¡¹ç›®ä»»åŠ¡ç®¡ç†ç³»ç»Ÿå°±æˆåŠŸéƒ¨ç½²äº†ï¼ğŸŠ
